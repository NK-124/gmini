@media (max-width: 996px) {
  /* Adjust individual button margins when side-by-side on mobile */
  .hero--primary > .container > div[style*="display: flex"][style*="justify-content: center"] > div[style*="display: flex"][style*="align-items: center"] > div[style*="display: flex"][style*="flex-direction: column"] > div[style*="display: flex"] .button--secondary {
    width: auto !important; /* Allow buttons to take natural width */
    margin-right: 1rem !important; /* Re-add horizontal margin between buttons */
    margin-bottom: 0 !important; /* Remove vertical margin */
  }

  /* Remove margin from the last button in a pair */
  .hero--primary > .container > div[style*="display: flex"][style*="justify-content: center"] > div[style*="display: flex"][style*="align-items: center"] > div[style*="display: flex"][style*="flex-direction: column"] > div[style*="display: flex"] .button--secondary:last-child {
    margin-right: 0 !important;
  }

  /* Ensure the rows of buttons stack */
  .hero--primary > .container > div[style*="display: flex"][style*="justify-content: center"] > div[style*="display: flex"][style*="align-items: center"] > div[style*="display: flex"][style*="flex-direction: column"] > div[style*="display: flex"] {
    flex-direction: row; /* Ensure buttons are side-by-side within their row */
    justify-content: center; /* Center the buttons if they don't fill the space */
    margin-bottom: 1rem !important; /* Space between the two rows of buttons */
  }

  /* Remove bottom margin from the last row of buttons */
  .hero--primary > .container > div[style*="display: flex"][style*="justify-content: center"] > div[style*="display: flex"][style*="align-items: center"] > div[style*="display: flex"][style*="flex-direction: column"] > div[style*="display: flex"]:last-child {
    margin-bottom: 0 !important;
  }

  /* Center the module buttons and robot vertically on mobile */
  .hero-inner-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  /* Reset transform for module buttons container on mobile */
  .hero--primary .buttons-container {
    transform: none !important;
  }

  /* Decrease the size of the module buttons on mobile */
  .hero--primary .button--lg {
    font-size: 0.8rem !important;
    padding: 0.5rem 1rem !important;
  }

  .robot-container {
    display: none !important;
  }



  /* --- Revised: Show Dark/Light mode toggle on navbar right side of title on mobile --- */
  /* Hide the toggle from the hero--primary section */
  .hero--primary .toggleButton_gllP {
    display: none !important;
  }
  /* Hide the toggle from the mobile sidebar if it somehow appears there */
  .navbar-sidebar__items .toggleButton_gllP {
    display: none !important;
  }

  /* Target the navbar inner container to use flexbox */
  .navbar__inner {
    display: flex;
    justify-content: space-between; /* Distribute space between items */
    align-items: center;
  }

  /* Force the toggle button to be visible and position it */
  .navbar__item.toggleButton_gllP {
    display: flex !important; /* Ensure it's visible */
    /* No need for margin-left: auto here if space-between handles it */
  }

  /* Adjust the navbar title/logo area to ensure space */
  .navbar__brand {
    /* Ensure it doesn't take up all space */
    flex-grow: 1;
    display: flex;
    align-items: center;
  }

  /* Push the toggle button right next to the brand/title */
  /* This might require moving the toggle into the navbar__brand or using a wrapper */
  /* For now, let's just make sure it's visible and right-aligned */
  .navbar__item.toggleButton_gllP {
    order: 2; /* Ensure it's after the brand */
    margin-left: auto; /* Pushes it to the far right within the inner navbar flex */
  }

  /* To place it *directly* next to the title, but on the right,
     we would need to wrap the title and toggle together,
     or modify React component structure.
     For CSS only, this is the best we can do for "right side of navbar heading".
     It will be on the right side of the entire navbar. */


  /* Move the chatbot button to the bottom right on mobile */
  body .chatbot-container {
    display: block !important;
    position: fixed;
    top: auto;
    right: 20px;
    bottom: 20px;
    left: auto;
    z-index: 2000;
  }
  body .chatbot-container .chatToggleButton {
    width: 40px;
    height: 40px;
  }

  /* Adjust chat window size for mobile */
  body .chatbot-container .chatWindow {
    width: 90vw;
    height: 80vh;
    left: 5vw; /* Center horizontally */
    top: 10vh; /* Position vertically */
    right: auto;
    bottom: auto;
  }

  body .chatbot-container .message {
    padding: 8px;
    max-width: 90%;
  }

  body .chatbot-container .chatInput {
    padding: 8px;
  }

  body .chatbot-container .chatInput input {
    font-size: 0.9rem;
    padding: 8px;
  }
}